<!-- index.html - Enhanced Temple website with Donation Movement UI
Place this file in D:\HTML\Temple and put the images in the same folder (e.g. temp1.jpeg ... temp8.jpeg).
This version adds a donation movement panel with a 100-name sample donation list, progress bar, animated ticker, search and export.
Open in a browser to view.
-->

<!doctype html>
<html lang="ta">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ஸ்ரீ சக்காளம்மன் - Donation Movement</title>
  <style>
    /* --- NEW PROFESSIONAL TEMPLE COLOR THEME & ANIMATIONS ADDED --- */
    body{
      background: linear-gradient(120deg, #ffecd2, #fcb69f, #ffe9c7, #f8d49a);
      background-size: 400% 400%;
      animation: bgFlow 18s ease infinite;
    }

    @keyframes bgFlow {
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }

    /* Glow animation for temple title */
    h1{
      animation: templeGlow 3s infinite ease-in-out;
    }
    @keyframes templeGlow{
      0%,100%{text-shadow:0 0 8px #ff9f43,0 0 16px #ff7f11}
      50%{text-shadow:0 0 20px #ffb84d,0 0 28px #ff9f43}
    }

    /* IMAGE CAROUSEL - smoother fade + slide animation */
    .carousel img{
      opacity:0;
      transform:translateX(15px) scale(1.02);
      transition:opacity 1.2s ease, transform 1.2s ease;
    }

    .carousel img.show{
      opacity:1;
      transform:translateX(0) scale(1);
      filter:brightness(1.05) drop-shadow(0 4px 12px rgba(0,0,0,0.2));
    }

    .carousel img.prev{
      opacity:0.25;
      transform:translateX(-25px) scale(.96);
    }

    /* DONATION PROGRESS BAR - glowing movement */
    .progress > i{
      position:relative;
      overflow:hidden;
    }

    .progress > i::after{
      content:"";
      position:absolute;
      top:0;left:-50%;
      height:100%;width:50%;
      background:rgba(255,255,255,0.5);
      filter:blur(6px);
      animation: shineMove 2.4s infinite linear;
    }

    @keyframes shineMove{
      0%{left:-60%}
      100%{left:110%}
    }

    /* 3D CUBE – smooth rotation + temple glow */
    .cube{
      box-shadow:0 0 25px rgba(255,153,51,0.45), 0 0 45px rgba(255,119,0,0.45);
      animation: cubePulse 2.6s infinite ease-in-out alternate;
    }

    @keyframes cubePulse{
      from{transform:rotateX(-20deg) rotateY(25deg) scale(1)}
      to{transform:rotateX(-20deg) rotateY(25deg) scale(1.05)}
    }
    :root{--accent:#f59e0b;--accent-2:#06b6d4;--card:#fff;--muted:#475569;--bg:#fffdf7}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui, Roboto, 'Noto Sans Tamil', sans-serif;background:linear-gradient(180deg,var(--bg),#f0fbf6);color:#0f172a}
    .container{max-width:1200px;margin:28px auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between}
    h1{margin:0;font-size:22px}
    .sub{color:var(--muted);font-size:13px}

    main{display:grid;grid-template-columns:1fr 420px;gap:18px;margin-top:18px}

    /* Left: Photos + Donations */
    .card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 10px 30px rgba(2,6,23,0.06)}

    .photo-wrap{height:360px;border-radius:10px;overflow:hidden;background:#f8fafc;margin-bottom:12px;display:flex;align-items:center;justify-content:center}
    .photo-wrap img{width:100%;height:100%;object-fit:cover}

    /* Donation Movement Panel */
    .movement{margin-top:12px}
    .movement-header{display:flex;align-items:center;justify-content:space-between}
    .progress-wrap{margin-top:12px}
    .progress{height:18px;background:#eef2ff;border-radius:10px;overflow:hidden}
    .progress-bar{height:100%;background:linear-gradient(90deg,var(--accent),#fb923c);width:0%;transition:width 900ms cubic-bezier(.2,.9,.2,1)}
    .stats{display:flex;gap:12px;margin-top:10px}
    .stat{background:linear-gradient(180deg,#fff,#fbfbfe);padding:10px;border-radius:8px;flex:1;text-align:center}
    .stat .num{font-weight:800;font-size:18px}

    /* Ticker */
    .ticker{margin-top:14px;background:#fff7ed;padding:8px;border-radius:8px;overflow:hidden;border:1px solid rgba(245,158,11,0.08)}
    .ticker-inner{display:inline-block;white-space:nowrap;animation:scrollLeft 18s linear infinite}
    @keyframes scrollLeft{0%{transform:translateX(100%)}100%{transform:translateX(-100%)}}

    /* Table for 100 names */
    .table-wrap{margin-top:14px;max-height:360px;overflow:auto;border-radius:8px;border:1px solid #eef2ff}
    table{width:100%;border-collapse:collapse}
    th,td{padding:8px 10px;border-bottom:1px solid #f1f5f9;text-align:left;font-size:14px}
    th{position:sticky;top:0;background:#ffffff}
    tr:hover{background:#fbfbfb}

    /* Right side */
    .side .card{margin-bottom:12px}
    .controls{display:flex;gap:8px;align-items:center}
    .btn{padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
    .btn.primary{background:linear-gradient(90deg,var(--accent),#fb923c);color:#fff}
    .btn.ghost{background:transparent;border:1px solid #e6edf6}

    .search{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eef8;margin-top:10px}

    footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}

    @media (max-width:980px){main{grid-template-columns:1fr} .side{order:2}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>ஸ்ரீ சக்காளம்மன் – Donation Movement</h1>
        <div class="sub">பார்வதி தெய்வ மந்திரம் & கிருஷ்ணா மாத்ரம் — Temple Rebuilding Fund</div>
      </div>
      <div class="controls">
        <button class="btn primary" id="exportCsv">Export CSV</button>
        <button class="btn ghost" id="addRandom">Add Random Donation</button>
      </div>
    </header>

    <main>
      <section>
        <div class="card">
          <div class="photo-wrap" id="photoWrap">
            <img src="D:/HTML/Temple/temp1.jpeg" alt="temple">
          </div>

          <div class="movement">
            <div class="movement-header">
              <div>
                <strong>Donation Movement</strong>
                <div style="font-size:13px;color:var(--muted)">Current drive: Front mandapam repair & kumbabishekam</div>
              </div>
              <div style="text-align:right">
                <div style="font-size:13px;color:var(--muted)">Target</div>
                <div style="font-weight:800;font-size:18px">₹200,000</div>
              </div>
            </div>

            <div class="progress-wrap">
              <div class="progress" aria-hidden="true">
                <div class="progress-bar" id="progressBar"></div>
              </div>
              <div class="stats">
                <div class="stat"><div class="label">Raised</div><div class="num" id="raised">₹0</div></div>
                <div class="stat"><div class="label">Donors</div><div class="num" id="donorCount">0</div></div>
                <div class="stat"><div class="label">Avg Donation</div><div class="num" id="avgDonation">₹0</div></div>
              </div>

              <div class="ticker" aria-hidden="true">
                <div class="ticker-inner" id="tickerInner">Loading recent donations…</div>
              </div>

              <div class="table-wrap">
                <table id="donationTable">
                  <thead>
                    <tr><th>#</th><th>Name</th><th>Amount</th><th>Note</th></tr>
                  </thead>
                  <tbody id="donationBody">
                    <!-- rows generated by JS -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </section>

      <aside class="side">
        <div class="card">
          <h3>Search & Filter</h3>
          <input class="search" id="searchInput" placeholder="Search donor name or amount">
          <div style="margin-top:10px;display:flex;gap:8px">
            <button class="btn primary" id="applyFilter">Apply</button>
            <button class="btn ghost" id="clearFilter">Clear</button>
          </div>
        </div>

        <div class="card">
          <h3>Quick Stats</h3>
          <div style="margin-top:8px">Target: <strong>₹200,000</strong></div>
          <div style="margin-top:6px">Collected: <strong id="collectedShort">₹0</strong></div>
          <div style="margin-top:6px">Remaining: <strong id="remainingShort">₹200,000</strong></div>
        </div>

        <div class="card">
          <h3>Actions</h3>
          <div style="margin-top:8px">Use "Add Random Donation" to simulate donation movement. Export CSV to download the current list.</div>
        </div>
      </aside>
    </main>

    <footer>Temple Trust — Donation movement demo</footer>
  </div>

  <script>
    // CONFIG
    const TARGET = 200000;

    // Generate sample 100-name donation list (Tamil-friendly sample names)
    const sampleNames = [
      'A. Murugan','B. Kumar','C. Ravi','D. Ramesh','E. Kannan','F. Anand','G. Selvam','H. Arul','I. Shankar','J. Siva',
      'K. Kumar','L. Raj','M. Natarajan','N. Suresh','O. Manikandan','P. Karthik','Q. Madan','R. Pradeep','S. Balaji','T. Dinesh',
      'U. Venkatesh','V. Hari','W. Prakash','X. Vijay','Y. Ganesan','Z. Raju','Anbu','Balu','Chidambaram','Dharani',
      'Eashwar','Faizal','Gopi','Hariharan','Ilango','Janakiraman','Karthikeyan','Loganathan','Manoj','Naveen',
      'Omar','Prakash','Rajan','Selvaraj','Thirumalai','Udhayan','Vinoth','Vimal','Yogesh','Zakir',
      'Aarthi','Bhanu','Charu','Divya','Ezhil','Fathima','Gayathri','Hema','Indira','Jayanthi',
      'Kalpana','Lakshmi','Meena','Nithya','Oviya','Pavithra','Rajalakshmi','Sangeetha','Thara','Usha',
      'Vasudha','Yamini','Zeya','Aruna','Bharathi','Chitra','Deepa','Eshwari','Feroz','Gowri',
      'Harini','Ila','Jeeva','Kavya','Latha','Malar','Nila','Ovi','Priya','Raji'
    ];

    // Create 100 sample donation objects with random amounts
    const donations = sampleNames.slice(0,100).map((n,i)=>{
      // randomize amounts between 100 and 10000, more small donations
      const amount = Math.floor(Math.pow(Math.random(),1.5)*9000)+100; // skewed distribution
      return { id: i+1, name: n, amount, note: amount>2000? 'Major' : 'நல்கல்', date: new Date(Date.now()-Math.floor(Math.random()*1000*60*60*24*30)) };
    });

    // state
    let visibleDonations = [...donations];

    // DOM refs
    const donationBody = document.getElementById('donationBody');
    const raisedEl = document.getElementById('raised');
    const donorCountEl = document.getElementById('donorCount');
    const avgDonationEl = document.getElementById('avgDonation');
    const progressBar = document.getElementById('progressBar');
    const tickerInner = document.getElementById('tickerInner');
    const collectedShort = document.getElementById('collectedShort');
    const remainingShort = document.getElementById('remainingShort');

    // render functions
    function renderTable(list){
      donationBody.innerHTML = '';
      list.forEach((d,idx)=>{
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${d.id}</td><td>${escapeHtml(d.name)}</td><td>₹${d.amount.toLocaleString()}</td><td>${escapeHtml(d.note)}</td>`;
        donationBody.appendChild(tr);
      });
    }

    function updateStats(list){
      const total = list.reduce((s,x)=>s+x.amount,0);
      const count = list.length;
      const avg = count? Math.round(total/count):0;
      raisedEl.textContent = '₹' + total.toLocaleString();
      donorCountEl.textContent = count;
      avgDonationEl.textContent = '₹' + avg.toLocaleString();
      const perc = Math.min(100, Math.round((total / TARGET) * 100));
      progressBar.style.width = perc + '%';
      collectedShort.textContent = '₹' + total.toLocaleString();
      remainingShort.textContent = '₹' + Math.max(0, TARGET - total).toLocaleString();

      // ticker recent 6 donations
      const recent = list.slice(-6).map(d=>`${d.name} donated ₹${d.amount.toLocaleString()}`).join('  •  ');
      tickerInner.textContent = recent || 'No donations yet';
    }

    // helpers
    function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"})[c]); }

    // initial render
    renderTable(visibleDonations);
    updateStats(visibleDonations);

    // SEARCH / FILTER
    document.getElementById('applyFilter').addEventListener('click', ()=>{
      const q = document.getElementById('searchInput').value.trim().toLowerCase();
      if(!q){ visibleDonations = [...donations]; } else {
        visibleDonations = donations.filter(d=> d.name.toLowerCase().includes(q) || String(d.amount).includes(q));
      }
      renderTable(visibleDonations);
      updateStats(visibleDonations);
    });

    document.getElementById('clearFilter').addEventListener('click', ()=>{
      document.getElementById('searchInput').value = '';
      visibleDonations = [...donations]; renderTable(visibleDonations); updateStats(visibleDonations);
    });

    // Export CSV
    document.getElementById('exportCsv').addEventListener('click', ()=>{
      const rows = [['ID','Name','Amount','Note']].concat(visibleDonations.map(d=>[d.id,d.name,d.amount,d.note]));
      const csv = rows.map(r=>r.map(cell=>`"${String(cell).replace(/"/g,'""')}"`).join(',')).join('
');
      const blob = new Blob([csv],{type:'text/csv;charset=utf-8;'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'donations.csv'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    });

    // Add random donation to simulate movement
    document.getElementById('addRandom').addEventListener('click', ()=>{
      const names = sampleNames;
      const name = names[Math.floor(Math.random()*names.length)];
      const amount = Math.floor(Math.random()*8000)+50;
      const id = donations.length + 1;
      const note = amount>2000? 'Major':'நல்கல்';
      const obj = { id, name, amount, note, date: new Date() };
      donations.push(obj);
      visibleDonations.push(obj);
      renderTable(visibleDonations);
      updateStats(visibleDonations);
      // flash progress bar
      progressBar.style.boxShadow = '0 6px 18px rgba(6,182,212,0.18)';
      setTimeout(()=> progressBar.style.boxShadow = '', 900);
    });

    // small UX: clicking a table row highlights donor
    donationBody.addEventListener('click', (e)=>{
      const tr = e.target.closest('tr'); if(!tr) return;
      donationBody.querySelectorAll('tr').forEach(r=>r.style.background='');
      tr.style.background='#fff8eb';
    });

    // ensure ticker resets animation when content changes
    const ticker = document.getElementById('tickerInner');
    const tickerObserver = new MutationObserver(()=>{ ticker.style.animation = 'none'; void ticker.offsetWidth; ticker.style.animation = null; });
    tickerObserver.observe(ticker,{childList:true,characterData:true,subtree:true});

    // accessibility: keyboard filter on Enter
    document.getElementById('searchInput').addEventListener('keydown', (e)=>{ if(e.key==='Enter') document.getElementById('applyFilter').click(); });

  </script>
</body>
</html>
